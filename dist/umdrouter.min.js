/*! UMDRouter - v0.0.1 - 2013-12-19 */
!function(a, b) {
    "function" == typeof define && define.amd ? define([], b) : "object" == typeof exports ? module.exports = b() : a.Router = b();
}(this, function() {
    var a = function() {
        var a = this;
        window.onhashchange = function() {
            a.process();
        }, window.onload = function() {
            a.process();
        };
    };
    return a.prototype.routes = {}, a.prototype.process = function() {
        var a, b, c, d, e, f = this, g = window.location.hash.replace("#", ""), h = [];
        if ("/" === g || "" === g && f.routes.hasOwnProperty("/")) f.routes["/"].apply(this); else {
            for (b in f.routes) if (a = g.match(new RegExp(b.replace(/:[^\s/]+/g, "([\\w-]+)"))), 
            null !== a && "/" !== b) {
                if (h = [], a.length > 1) for (d = 1, e = a.length; e > d; d++) h.push(a[d]);
                c = b;
            }
            f.routes[c].apply(this, h);
        }
    }, a.prototype.reload = function() {
        this.process();
    }, a.prototype.on = function(a, b) {
        this.routes[a] = b;
    }, a.prototype.go = function(a) {
        var b, c = window.location, d = c.pathname.replace(/[^\/]$/, "$&"), e = this;
        b = a.length ? d + c.search + "#" + a : d + c.search, history.pushState ? (history.pushState(null, document.title, b), 
        e.process()) : (c.replace(d + b), e.process());
    }, a;
});